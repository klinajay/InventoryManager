@page "/updateproduct/{ProductId}"
@inject NavigationManager NavigationManager
@rendermode InteractiveServer
<h3>Add Product</h3>


@if(isLoading) {
	<p>Loading...</p>
}
else {
    <EditForm Model="ProductSelected" FormName="updateform" OnValidSubmit="HandleValidSubmit">
        <h3>Update Product</h3>

        <!-- Product Fields -->
        <div class="form-group">
            <label for="productName">Product Name</label>
            <InputText id="productName" class="form-control" @bind-Value="ProductSelected.ProductName" />
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <InputTextArea id="description" class="form-control" @bind-Value="ProductSelected.Description" />
        </div>

        <div class="form-group">
            <label for="productPrice">Price</label>
            <InputNumber id="productPrice" class="form-control" @bind-Value="ProductSelected.ProductPrice" />
        </div>

        <div class="form-group">
            <label for="productQuantity">Quantity</label>
            <InputNumber id="productQuantity" class="form-control" @bind-Value="ProductSelected.ProductQuantity" />
        </div>

        <div class="form-group">
            <label for="imageUrl">Image URL</label>
            <InputText id="imageUrl" class="form-control" @bind-Value="ProductSelected.ImageUrl" />
        </div>

        <!-- Supplier Fields -->
        <h4>Supplier Information</h4>

        <div class="form-group">
            <label for="supplierId">Supplier Id</label>
            <InputText id="supplierId" class="form-control" @bind-Value="ProductSelected.SupplierId" />
        </div>

        <div class="form-group">
            <label for="supplierName">Supplier Name</label>
            <InputText id="supplierName" class="form-control" @bind-Value="SupplierSelected.SupplierName" readonly />
        </div>

        <div class="form-group">
            <label for="supplierContact">Supplier Contact</label>
            <InputText id="supplierContact" class="form-control" @bind-Value="SupplierSelected.SupplierContact" readonly />
        </div>

        <div class="form-group">
            <label for="supplierAddress">Supplier Address</label>
            <InputText id="supplierAddress" class="form-control" @bind-Value="SupplierSelected.SupplierAddress" readonly />
        </div>
        <h4>Category Information</h4>
        <div class="form-group">
            <label for="categoryId">Category Id</label>
            <InputText id="categoryId" class="form-control" @bind-Value="ProductSelected.ProductCategoryId" />
        </div>

        <div class="form-group">
            <label for="categoryName">Category Name</label>
            <InputText id="categoryName" class="form-control" @bind-Value="ProductCategory.CategoryName" readonly />
        </div>


        <div class="form-group">
            <label for="categoryDescription">category description</label>
            <InputText id="categoryDescription" class="form-control" @bind-Value="ProductCategory.Description" readonly />
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
        <button type="button" class="btn btn-secondary" @onclick="Cancel">Cancel</button>
    </EditForm>

}
@if(isError) {
    <h1>@errorMessage</h1>
}
